(this["webpackJsonpalienpunks-nft"]=this["webpackJsonpalienpunks-nft"]||[]).push([[0],{377:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n(378);var c=function(e){var t=e.toString(16);return t.length%2==0?t:"0"+t}}).call(this,n(9).Buffer)},467:function(e,t){},469:function(e,t){},479:function(e,t){},481:function(e,t){},496:function(e,t){},515:function(e,t){},517:function(e,t){},518:function(e,t){},523:function(e,t){},525:function(e,t){},531:function(e,t){},533:function(e,t){},552:function(e,t){},564:function(e,t){},567:function(e,t){},570:function(e,t,n){var c={"./bls.js":280,"./bls_c.js":313};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}a.keys=function(){return Object.keys(c)},a.resolve=r,e.exports=a,a.id=570},582:function(e,t){},584:function(e,t){},654:function(e,t){},657:function(e,t){},693:function(e,t,n){},694:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"dAppName",(function(){return v})),n.d(c,"decimals",(function(){return O})),n.d(c,"denomination",(function(){return g})),n.d(c,"gasPrice",(function(){return y})),n.d(c,"version",(function(){return N})),n.d(c,"gasLimit",(function(){return w})),n.d(c,"gasPerDataByte",(function(){return k})),n.d(c,"walletConnectBridge",(function(){return L})),n.d(c,"walletConnectDeepLink",(function(){return C})),n.d(c,"network",(function(){return F})),n.d(c,"smartContractAddress",(function(){return A})),n.d(c,"smartContractInitialCount",(function(){return D}));var a=n(1),r=n.n(a),i=n(76),s=n.n(i),o=n(37),l=n(61),d=n(23),u=n(25),j=n(122);function m(e,t){if("setTransactions"===t.type)return Object(j.a)(Object(j.a)({},e),{},{transactions:t.transactions,transactionsFetched:t.transactionsFetched});throw new Error("Unhandled action type: ".concat(null===t||void 0===t?void 0:t.type))}var f=function(){return{transactions:[],transactionsFetched:void 0}},b=n(7),h=a.createContext(void 0),p=a.createContext(void 0);function x(e){var t=e.children,n=a.useReducer(m,f()),c=Object(u.a)(n,2),r=c[0],i=c[1];return Object(b.jsx)(h.Provider,{value:r,children:Object(b.jsx)(p.Provider,{value:i,children:t})})}var v="Alien Punks NFT",O=2,g=18,y=1e9,N=1,w=5e4,k=1500,L="https://bridge.walletconnect.org",C="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet.dev&link=https://maiar.com/",F={id:"mainnet",name:"Mainnet",egldLabel:"EGLD",walletAddress:"https://wallet.elrond.com",apiAddress:"https://api.elrond.com",gatewayAddress:"https://gateway.elrond.com",explorerAddress:"http://explorer.elrond.com/"},A="erd1qqqqqqqqqqqqqpgqcrlhrnk0zhn7nncmmd0wr2lpna7zxukxyl5swdtcju",D=989,S=function(e,t){return function(){var n=Object(a.memo)(t);return Object(a.useEffect)((function(){document.title=e}),[]),Object(b.jsx)(n,{})}},P=n(16);var q=n(377),E=n(0),T=n.n(E),B=n(3),I=n(75),R=n.n(I),z=function(){var e=Object(B.a)(T.a.mark((function e(t){var n,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(F.apiAddress,"/accounts/").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",{data:c,success:void 0!==c});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=n(379),U=n(157),G=function(){var e=Object(B.a)(T.a.mark((function e(t){var n,c,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(_.a)({apiKey:"AIzaSyAoCQ_chvQfO4CAEqULXqgZbRAlsrtv3ms",authDomain:"sideproject-caching.firebaseapp.com",projectId:"sideproject-caching"}),n=Object(U.c)(),e.next=5,Object(U.b)(Object(U.a)(n,"smart contracts"));case 5:if(c=e.sent,0!==(a=c.docs.filter((function(e){return e.id===t}))).length){e.next=9;break}return e.abrupt("return",void 0);case 9:return e.abrupt("return",a[0].data());case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=r.a.useState(),t=Object(u.a)(e,2),n=t[0],c=t[1],a=r.a.useState([]),i=Object(u.a)(a,2),s=i[0],l=i[1],j=r.a.useState(0),m=Object(u.a)(j,2),f=m[0],h=m[1],p=r.a.useState(!1),x=Object(u.a)(p,2),v=x[0],O=x[1],g=r.a.useState(1),L=Object(u.a)(g,2),C=L[0],F=L[1],S=o.e(),E=S.loggedIn,T=S.address,B=o.h(),I=function(){var e=o.e().chainId;return function(t){var n=t.gasLimit?new P.GasLimit(t.gasLimit):o.d({data:t.data||"",gasLimit:w,gasPerDataByte:k});return new P.Transaction({value:P.Balance.egld(t.value),data:new P.TransactionPayload(t.data),receiver:new P.Address(t.receiver),gasLimit:n,gasPrice:new P.GasPrice(y),chainID:new P.ChainID(e.valueOf()),version:new P.TransactionVersion(N)})}}(),R=Object(d.g)(),_=o.f(),U={receiver:A,value:"0",gasLimit:2e7+95e6*C,data:""},M=function(e){if(e.preventDefault(),!e.currentTarget.classList.contains("disabled"))if(E){n&&"EGLD"===(null===n||void 0===n?void 0:n.tokenDisplayName)&&(U.value=parseFloat((n.contractPrice*C).toFixed(3)).toString(),U.data="buyNft@01@".concat(Object(q.a)(C)),U.receiver=A,U.gasLimit=1e7+3e6*(C-1));var t=I(U);B({transaction:t,callbackRoute:W.transaction})}else R.push(W.walletconnect)},Q=function(e){e.preventDefault(),e.currentTarget.classList.contains("disabled")||7!=C&&C!=f&&F(C+1)},V=function(e){e.preventDefault(),e.currentTarget.classList.contains("disabled")||1!=C&&F(C-1)};r.a.useEffect((function(){v||(G(A).then((function(e){void 0!==e&&h(parseInt(e.supply,16)||0)})),E&&(Promise.all([G(A),z(T)]).then((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1],r=H(null===n||void 0===n?void 0:n.EGLD),i=[],s={tokenDisplayName:"EGLD",tokenTicker:"",tokenNonce:"00",userBalance:parseInt(a.data.balance)/1e18,contractPrice:r};i.push(s),c(i[0]),l(i)})),O(!0)))}),[E]);var H=function(e){return"-1"==e?0:parseInt(e,16)/1e18};return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-lg-12 col-sm-12",children:[Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5 mb-5",children:Object(b.jsx)("h5",{style:{fontSize:"60px"},children:"Alien Punks"})}),Object(b.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(b.jsxs)("h6",{style:{fontSize:"34px"},children:["Remaining supply: ",f,"/",D]})}),E&&s.length>0&&function(){return n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"d-flex justify-content-center mt-2 mb-5",children:Object(b.jsxs)("h6",{style:{fontSize:"30px"},children:["Buy price: ",(e=n,parseFloat((C*e.contractPrice).toFixed(3)))," ",n.tokenDisplayName]})}),Object(b.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(b.jsx)("h6",{style:{fontSize:"28px"},children:"Quantity:"})}),Object(b.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(b.jsxs)("div",{className:"d-flex justify-content-center mt-3",children:[Object(b.jsx)("button",{style:{paddingLeft:"20px",paddingRight:"21px"},className:"btn btn-danger mr-2"+(f>0?"":" disabled"),onClick:V,children:"\u2014"}),Object(b.jsx)("p",{className:"quantity-input__screen ml-4 mr-4",style:{maxWidth:"55px",textAlign:"center",border:"none",fontSize:"24px"},children:C}),Object(b.jsx)("button",{style:{padding:"15px"},className:"btn btn-success ml-2"+(f>0?"":" disabled"),onClick:Q,children:"\uff0b"})]})}),Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5 mb-4",children:Object(b.jsx)("a",{href:"#",style:{fontSize:"32px"},className:"btn default-button"+(f>0?"":" disabled"),onClick:function(e){return M(e)},children:"Buy NFT"})}),Object(b.jsx)("div",{className:"d-flex justify-content-center mb-5",children:Object(b.jsx)("a",{href:"#",className:"btn btn-sm default-button-danger",onClick:function(e){return function(e){e.preventDefault(),_({callbackUrl:"".concat(window.location.origin).concat(W.home)}),R.push(W.walletconnect)}(e)},children:"Disconnect"})})]});var e}(),!E&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"d-flex justify-content-center mt-5 mb-5",children:Object(b.jsx)("a",{href:"#",className:"btn default-button"+(f>0?"":" disabled"),onClick:function(e){return M(e)},children:"Connect with Maiar"})})})]})})})},Q=n(34),V=n(65),H=function(e){var t=e.title,n=e.description,c=e.svgComponent,a=e.className,r=e.spin,i=void 0!==r&&r;return Object(b.jsx)("div",{className:"d-flex flex-fill justify-content-center align-items-center container page-state",style:{fontFamily:"Amiko"},children:Object(b.jsx)("div",{className:"row w-100 mt-5 mb-5",children:i?Object(b.jsx)("div",{className:"col-12 text-center d-flex justify-content-center","data-testid":"loader",children:Object(b.jsx)("div",{className:"lds-ellipsis mx-auto mt-5 mb-5",children:Object(b.jsx)("div",{})})}):Object(b.jsx)("div",{className:"col-12 mx-auto",children:Object(b.jsxs)("div",{className:"text-center d-flex flex-column justify-content-center",children:[Object(b.jsx)("div",{className:"icon ".concat(a||""),children:c}),t&&Object(b.jsx)("p",{className:"h4 mt-3",children:t}),n&&Object(b.jsx)("div",{className:"mt-3",children:n})]})})})})},J=function(){var e=Object(d.h)().search,t=o.e().explorerAddress,n=new URLSearchParams(e),c=Object.fromEntries(n),a=c.status,r=c.txHash;return"success"===a?Object(b.jsx)(H,{svgComponent:Object(b.jsx)(V.a,{icon:Q.b,className:"text-success fa-3x"}),className:"dapp-icon icon-medium",title:"Success",description:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"".concat(t,"transactions/").concat(r),target:"_blank",className:"btn btn-success mt-3",title:"View in Explorer",style:{fontFamily:"Audiowide"},children:"Transaction details"})}),Object(b.jsx)(l.b,{to:W.home,className:"btn btn-danger mt-3",style:{fontFamily:"Audiowide"},children:"Back"})]})}):Object(b.jsx)(H,{svgComponent:Object(b.jsx)(V.a,{icon:Q.h,className:"text-danger fa-3x"}),className:"dapp-icon icon-medium",title:"Error",description:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:Object(b.jsx)("a",{href:"".concat(t,"transactions/").concat(r),target:"_blank",className:"btn btn-success mt-3",title:"View in Explorer",style:{fontFamily:"Audiowide"},children:"Transaction details"})}),Object(b.jsx)(l.b,{to:W.home,className:"btn btn-danger mt-3",style:{fontFamily:"Audiowide"},children:"Back"})]})})},W={home:"/",transaction:"/transaction",walletconnect:"/walletconnect"},K=[{path:"/",title:"Home",component:M},{path:W.transaction,title:"Transaction",component:J}].map((function(e){var t=e.title?"".concat(e.title," \u2022 ").concat(v):"".concat(v);return{path:e.path,authenticatedRoute:Boolean(e.authenticatedRoute),component:S(t,e.component)}})),X=function(e){var t=e.children,n=o.e().loggedIn,c=o.g();r.a.useEffect((function(){n&&c()}),[n]);return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("main",{className:"main-page-container",children:Object(b.jsx)(o.a,{routes:K,unlockRoute:W.walletconnect,children:t})})})},Z=function(){var e=Object(d.h)().pathname;return Object(b.jsx)("div",{className:"d-flex flex-fill align-items-center container",children:Object(b.jsx)("div",{className:"row w-100",children:Object(b.jsx)("div",{className:"col-12 col-md-8 col-lg-5 mx-auto",children:Object(b.jsx)("div",{className:"card shadow-sm rounded p-4 border-0",children:Object(b.jsxs)("div",{className:"card-body text-center d-flex flex-column justify-content-center",children:[Object(b.jsx)("div",{className:"dapp-icon icon-medium",children:Object(b.jsx)(V.a,{icon:Q.g,className:"mx-auto fa-3x mb-2"})}),Object(b.jsx)("span",{className:"h4 empty-heading mt-3",children:"Page not found"}),Object(b.jsx)("span",{className:"empty-details",children:e})]})})})})})},Y=function(){var e=Object(d.h)().search,t=new URLSearchParams(e),n=Object.fromEntries(t).from;return Object(b.jsx)(o.c.WalletConnect,{callbackRoute:null!==n&&void 0!==n?n:W.home,logoutRoute:"/",title:"Maiar Login",lead:"Scan the QR code using Maiar"})};var $=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(l.a,{basename:"",children:Object(b.jsx)(x,{children:Object(b.jsx)(o.b,{config:c,children:Object(b.jsx)(X,{children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/walletconnect",component:Y,exact:!0}),K.map((function(e,t){return Object(b.jsx)(d.b,{path:e.path,component:e.component,exact:!0},e.path+t)})),Object(b.jsx)(d.b,{component:Z})]})})})})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,699)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};n(692),n(693);s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)($,{})}),document.getElementById("root")),ee()}},[[694,1,2]]]);
//# sourceMappingURL=main.d00d9aa7.chunk.js.map